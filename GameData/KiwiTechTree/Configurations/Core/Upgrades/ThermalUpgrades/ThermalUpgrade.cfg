// Kiwi's Tech Tree Overhaul (Standardized Pod Thermal Upgrades)
// Version 2.0
// Created: 22 January 2021 for KSP 1.9.1 to 1.10.1
// Last Updated: 22 January 2021

// Standard Thermal Capable Upgrade
@PART[*]:HAS[#kiwiThermalUpgradeType[standard],!thermalToleranceUpgrade[off]]:FOR[zzKiwiTechTree]
{	
	@description = #$description$ \n\n<color=#ff0000> This part has upgrades in advHeatManagement (Tier7)</color>
	
	%upgradeSkinTemp = #$skinMaxTemp$
        @upgradeSkinTemp *= #$@KIWI_THERMAL_MULTIPLIERS/THERMALTOLERANCE/UPGRADE_HEAT_MULTIPLIER$
	
	%costAdjust = #$cost$
	@costAdjust *= #$@KIWI_THERMAL_MULTIPLIERS/THERMALTOLERANCE/UPGRADE_COST_MULTIPLIER$
	
	%massAdjust = #$mass$
	@massAdjust *= #$@KIWI_THERMAL_MULTIPLIERS/THERMALTOLERANCE/UPGRADE_MASS_MULTIPLIER$
	
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = thermalSwitch
		switcherDescription = #LOC_KTT_B9DESCRIPTION_THERMALSWITCH // Heat Tolerance
		switcherDescriptionPlural = #LOC_KTT_B9DESCRIPTION_THERMALSWITCHPLURAL // Heat Tolerances
		affectDragCubes = False
		affectFARVoxels = False
		
		SUBTYPE
	  {
			name = Baseline
			title = #LOC_KTT_B9DESCIPTION_BASELINETHERMAL // Baseline Thermal Tolerance
			descriptionSummary = #LOC_KTT_B9DESCRIPTION_BASELINETHERMALDESCRIPTION // The basic thermal shielding.
			descriptionDetail = #Skin Max Temp: <color=#ff0000>$../../skinMaxTemp$k</color>
			addedCost = 0
			defaultSubtypePriority = 1
			primaryColor = #000000
			secondaryColor = #000000		
			skinMaxTemp = #$../../skinMaxTemp$
	  }	
		SUBTYPE
	  {
			name = Improved
			title = LOC_KTT_B9DESCRIPTION_UPGRADEDTHERMAL // Improved Thermal Tolerance
			descriptionSummary = #LOC_KTT_B9DESCRIPTION_UPGRADEDTHERMAL // Thermal shielding improved for a higher max temperature.
			descriptionDetail = #Skin Max Temp: <color=#ff0000>$../../upgradeSkinTemp$k</color>
			upgradeRequired = <TODO>
			addedCost = #$../../costAdjust$
			addedMass = #$../../massAdjust$
			defaultSubtypePriority = 0
			primaryColor = #ffffff
			secondaryColor = #ffffff			
			skinMaxTemp = #$../../upgradeSkinTemp$
   	}		
    }
}
